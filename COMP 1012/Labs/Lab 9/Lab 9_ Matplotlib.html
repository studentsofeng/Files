
<!-- saved from url=(0053)http://www.cs.umanitoba.ca/~comp1012/2016C/Lab09.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Lab 9: Matplotlib</title>
  </head>
  <body>
    <div class="default">
    <style type="text/css"><!-- 
      h2, h3 { 
        font-family: sans-serif; 
        font-weight: bold; 
        border-top-width: thin; 
        border-right-width: thin; 
        border-bottom-width: thin; 
        border-left-width: thin; 
        border-bottom-style: solid; 
        border-top-color: #FF0000; 
        border-right-color: #FF0000; 
        border-left-color: #FF0000; 
      } 
      h2 { 
        font-size: 14pt; 
        border-bottom-color: #FF0000; 
      } 
      h3 { 
        font-size: 13pt; 
        border-bottom-color: blue ; 
      } 
      .code, .codeword { 
        font-family: monospace; 
        font-weight: bold; 
      } 
      .code { 
        font-size: 11pt ; 
        background-color: #FFFFB0; 
        border-top: dotted thin black; 
        border-bottom: dotted thin black; 
        padding-top: 1em; 
        padding-bottom: 1em; 
        padding-left: .5em; 
        padding-right: .5em; 
        margin-right: 20px; 
        margin-left: 20px; 
        white-space: pre;
      } 
      .codeword { 
        font-size: 1em; 
      } 
      .builtin{
        color: darkcyan;
      }
      .quote{
        color: red;
      }
      .instruction {
        color: darkcyan;
      }
      .output { 
        font-family: monospace; 
        font-size: 11pt ; 
        background-color: E0d0a0; 
        border-style: solid; 
        border-width: thin; 
        line-height: 110%; 
        padding: 0.5em; 
        white-space: pre;
      } 
      .aside { 
        background-color: lightGrey; 
        border: solid thin black; 
        font-size: 10pt; 
        margin-top: .5em; 
        margin-bottom: .5em; 
        margin-right: 20px; 
        margin-left: 20px; 
        padding-top: .5em; 
        padding-bottom: .5em; 
        padding-left: 1em; 
        padding-right: 1em; 
      } 
      .math {
        font-family: serif;
      }
      .todo {
        color: blue;
      }
      td.mine, th.mine { 
        font-family: serif ; 
        font-size: 10 pt ; 
        vertical-align: bottom ; 
        text-align: center ; 
      } 
      a, a:link, a:visited, p, li { 
        font-family: serif ; 
        font-size: 12pt ; 
        line-height: 115% ;
      } 
      pre { 
        line-height: 80% ; 
      } 
      em{
        font-weight: bold;
        font-style: italic;
      }
      .red{
        color: red;
      }
      .dkred{
        color: darkred;
      }
      .grn{
        color: green;
      }
      .blue{
        color: blue;
      }
      .ltblue{
        color: lightblue;
      }
      .blk{
        color: black;
      }
      .fcn{
        color: purple;
      }
      .boolean{
        color: magenta;
      }
      .kwd{
        color: orange;
      }
      .str{
        color: red;
      }
      .fcn{
        color: darkgreen;
      }
      .numpy{
        color: saddlebrown;
      }
      .in{
        color: darkblue;
      }
      --> 
    </style>
      <h1 style="font-size:20pt">COMP 1012 Lab 9</h1>
      <p><strong>November 28 to December 2, 2016</strong> </p>
      <h2>Material covered:</h2>
      <ul>
        <li><span class="codeword">matplotlib</span> .</li>
      </ul>
      <h2>Notes:</h2>
      <p> 
        All Python exercises are to be done using <span class="codeword">Anaconda
        Python</span> Integrated Development Environment.
      </p>
      <p>
        At some point during the lab, the demonstrator will circulate an
        attendance sheet. Sign it and pass it on.
      </p>
      <p>
        It is difficult to create a lab that will keep every student occupied
        for exactly 50 minutes. If you are finished early, use the time to
        explore other options in your programs, or to help others around you.
        Most learning takes place when you try to do something and you don't
        know how at first. If you do not finish in the time available, look at
        the rest of the lab at some other time before next week's lab. Remember,
        the learning is cumulative, so if you don't learn something, next week's
        lab will seem harder.
      </p>
      
<h2>Exercise 1: Plotting functions</h2>

<p>Before you can do anything with plots, you need to <span class="codeword">import matplotlib.pylab </span></p>

<div class="code"> <span style="color: orange ">import</span> matplotlib.pylab <span style="color: orange ">as</span> mpl </div>

<p>Generate a set of closely spaced <span class="math"><i>x</i></span> values between 0.4 and 2 using <span class="codeword">np.linspace</span>. Then evaluate the following functions of <span class="math"><i>x</i></span>, and plot them versus <span class="math"><i>x</i></span>:</p>
<img src="./Lab 9_ Matplotlib_files/Lab09Functions.png" alt="" width="450" align="right">

<p align="center"><a href="http://www.codecogs.com/eqnedit.php?latex=\large%20\\%20f_1(x)=%20-\frac{1}{3}@plus;\frac{1}{3}x^3%20\\%20f_2(x)=%20-\frac{1}{2}@plus;\frac{1}{2}x^2%20\\%20f_3(x)%20=%20-1%20@plus;x%20\\%20f_4(x)%20=%202.303%20\log%20_{10}x%20\\%20f_5(x)%20=%201%20-%20\frac{1}{x}\\%20f_6(x)%20=%20\frac{1}{2}-%20\frac{1}{2x^2}\\%20f_7(x)%20=%20\frac{1}{3}-%20\frac{1}{3x^3}" target="_blank"><img src="./Lab 9_ Matplotlib_files/gif.latex" title="\large \\ f_1(x)= -\frac{1}
{3}
+\frac{1}
{3}
x^3 \\ f_2(x)= -\frac{1}
{2}
+\frac{1}
{2}
x^2 \\ f_3(x) = -1 + x \\ f_4(x) = 2.303 \log _{10}
x \\ f_5(x) = 1 - \frac{1}
{x}
\\ f_6(x) = \frac{1}
{2}
- \frac{1}
{2x^2}
\\ f_7(x) = \frac{1}
{3}
- \frac{1}
{3x^3}
" alt="" width="300" align="center"></a></p>

<p>Ensure that your calculations are <span class="math">vectorized</span> when evaluating the functions. That is, use array operations whenever possible, as in the following:</p>

<div class="code"> 

xvals = np.linspace(0.4, 2, 100)
f1x = (1. / 3.) * (-1. + xvals**3)
f2x = (1. / 2.) * (-1. + xvals**2)
# ....
mpl.plot(xvals, f1x, label = "x**3") 
mpl.plot(xvals, f2x, label = "x**2") 
# .... 
mpl.xlabel("x")
mpl.ylabel("f(x)")
mpl.title("Compare shapes of various functions of x through (1,1)")
mpl.legend(loc= "lower right")
mpl.show()
 </div>

<!-- <p>To understand this code, you need to know how both numpy arrays and plots work. The first line creates an array of <span class="math"><i>x</i></span> values. The next line evaluates the first function at these <span class="math"><i>x</i></span> values. The line that starts <span class="codeword" style="color:green">"p1, ="</span> is the beginning of the plotting. The function call to <span class="codeword">mplt.plot</span> produces <emph>a list of plot objects</emph>. If you only plot one set of <span class="math"><i>x</i></span> and <span class="math"><i>y</i></span> values, as we do here, there is only one plot object in the list. Using tuple assignment, as in <span class="codeword" style="color:green">"p1, ="</span>, we get the first (only) plot, rather than the entire list.</p> -->

<p>The functions <span class="codeword">mpl.xlabel</span>, <span class="codeword">mpl.ylabel</span>, and <span class="codeword">mpl.title</span> each create a text string at an appropriate location in the plot. The function <span class="codeword">mpl.legend</span> creates a box with definitions of the different plot objects. <!-- It needs a list of plot objects to define, and a list of the string definitions of each one. The last argument <span class="codeword">"lower right"</span> is optional;
it says where on the plot to put the legend.</p> -->

<!-- <p>Notice that if you click on the plot, and pass your cursor over the plot, the position of the cursor can be read at the bottom. <span style="color:blue;
">Find the value of the <span class="math"><i>x</i></span><sup>2</sup> curve at <span class="math"><i>x</i></span> = 1.8 by reading it off the plot. Find the <span class="math"><i>x</i></span> position that gives a value of -3 on the <span class="math">-1/<i>x</i>**3</span> plot.</span></p> -->

</p><p class="todo">In your script file, replace all the calls to <span class="codeword">mpl.plot</span> with calls to <span class="codeword">mpl.loglog</span>, then <span class="codeword">mpl.semilogx</span>, then <span class="codeword">mpl.semilogy</span>. What is the difference between each?</p>

<p>The functions plotted here form a family. The American statistician John Tukey (1915-2000) published a plot like this one in his 1977 book <span class="math">Exploratory Data Analysis</span>. His purpose was to understand the nature of experimental data. He used this plot to find transformations that would "straighten out" experimental data, so that he could fit it with a straight line. </p>

<p><span style="color:blue;
">Try guessing what the next functions would be on both ends of the sequence would be, and plot them too. Try plotting with different colours and line/marker styles: 'ro', 'g+', 'bs', 'c&lt;', 'y&gt;', 'm*', 'k|'.</span></p>

<h2>Exercise 2: Working with functions</h2>

<p>In the previous example, you were working with functions in two different ways: first, mathematical functions <span class="math"><i>f</i><sub>1</sub>(<i>x</i>)</span>, <span class="math"><i>f</i><sub>2</sub>(<i>x</i>)</span>, etc., and secondly, python functions like <span class="codeword">mpl.plot</span>, <span class="codeword">mpl.loglog</span>, etc.</p>

<p>The code to implement the mathematical functions is short, but it would be more useful written as Python functions instead;
for example:</p>

<div class="code">
<span style="color: orange ">def</span> f1(xvals):
  <span style="color: orange ">return</span> (1. / 3.) * (-1. + xvals**3)
</div>

<p>and so on. What happens if you enter the name of a function in the console or print it in a script <span class="math">without the brackets</span>: e.g. <span class="codeword">print f1</span> ?</p>

<div class="code">
<span style="color: orange ">print</span>(f1)<br>
<span style="color: blue">&lt; function f1 at 0x3bb20f0&gt;
</span></div>

<p>This is because <span class="math">functions are data too</span>. You can assign a function to a variable, and call that function through the variable: <span class="codeword">f = f1</span> followed by <span class="codeword">f(xvals)</span>. You can also make lists of functions.</p>

<div class="code">functions = [ f1, f2, f3, f4, f5, f6, f7 ]<br>
plotters = [ mpl.plot, mpl.loglog, mpl.semilogx, mpl.semilogy ]</div>

<p>Using these two lists, you can replace all of the repeated (similar) lines of code from exercise 1 with loops. Go through each function in the list <span class="codeword">functions</span> to calculate a plot. </p>

<p>Then, you can plot the same values with each of the plotters. Add an outer loop that goes through each of the <span class="codeword">plotters</span> with your existing code nested inside. Generate 4 different plots, showing one after the other, calling the plotting function from the list instead of <span class="codeword">mpl.plot</span>. To distinguish between the different plots, add the name of the plotter to the title. You can get the name of a function as a string using <span class="codeword">.__name__</span>;
for example, <span class="codeword">plotters[3].__name__</span> gives <span class="codeword">"semilogy"</span>.</p>

<h2>Exercise 3: Solving Equations</h2> 
 
<p>With a good plotting function, you can find a graphical solution to an equation where analytical solutions would be difficult. <span style="color:blue;
">Solve the following equation by plotting the left side and the right side and determining two points where the two plots meet (hint: you will have to find the interval of <span class="math"><i>x</i></span>-values by <b>trial and error</b> to get a good approximations):</span></p> 
 
<p align="middle"><a href="http://www.codecogs.com/eqnedit.php?latex=\large%20\sin\left%20(2x^\frac{1}{3}%20\right%20)=%20\exp\left%20(x%20\right%20)/x%20@minus;2" target="_blank"><img src="./Lab 9_ Matplotlib_files/gif(1).latex" title="\large \sin\left (2x^\frac{1}{3} \right )= \exp\left (x \right )/x  - 2"></a></p> 
 
<p> Show separate plots for each solution. Try to find solutions with at least three decimal places of precision.</p>
 
<hr> 
</div>
  

</body><button id="javascript-popup-blocker-notify" style="display: none;"></button></html>